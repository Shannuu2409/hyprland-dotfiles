# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

# See https://wiki.hyprland.org/Configuring/Window-Rules/

# Browser opacity rules
windowrule = opacity 0.90 0.90, match:class ^(firefox)$
windowrule = opacity 0.90 0.90, match:class ^(Google-chrome)$
windowrule = opacity 0.90 0.90, match:class ^(Brave-browser)$

# Code editor opacity rules
windowrule = opacity 0.80 0.80, match:class ^(code-oss)$
windowrule = opacity 0.80 0.80, match:class ^([Cc]ode)$
windowrule = opacity 0.80 0.80, match:class ^(code-url-handler)$
windowrule = opacity 0.80 0.80, match:class ^(code-insiders-url-handler)$

# Terminal and file manager opacity rules
windowrule = opacity 0.80 0.80, match:class ^(kitty)$
windowrule = opacity 0.80 0.80, match:class ^(org.kde.dolphin)$
windowrule = opacity 0.80 0.80, match:class ^(org.kde.ark)$

# System utility opacity rules
windowrule = opacity 0.80 0.80, match:class ^(nwg-look)$
windowrule = opacity 0.80 0.80, match:class ^(qt5ct)$
windowrule = opacity 0.80 0.80, match:class ^(qt6ct)$
windowrule = opacity 0.80 0.80, match:class ^(kvantummanager)$

# Audio, network, and system settings opacity rules
windowrule = opacity 0.80 0.70, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = opacity 0.80 0.70, match:class ^(blueman-manager)$
windowrule = opacity 0.80 0.70, match:class ^(nm-applet)$
windowrule = opacity 0.80 0.70, match:class ^(nm-connection-editor)$
windowrule = opacity 0.80 0.70, match:class ^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = opacity 0.80 0.70, match:class ^(polkit-gnome-authentication-agent-1)$
windowrule = opacity 0.80 0.70, match:class ^(org.freedesktop.impl.portal.desktop.gtk)$
windowrule = opacity 0.80 0.70, match:class ^(org.freedesktop.impl.portal.desktop.hyprland)$

# Gaming and entertainment opacity rules
windowrule = opacity 0.70 0.70, match:class ^([Ss]team)$
windowrule = opacity 0.70 0.70, match:class ^(steamwebhelper)$
# windowrule = opacity 0.70 0.70, match:class ^([Ss]potify)$
# windowrule = opacity 0.70 0.70, match:title ^(Spotify Free)$
# windowrule = opacity 0.70 0.70, match:title ^(Spotify Premium)$

# Application-specific opacity rules
windowrule = opacity 0.90 0.90, match:class ^(com.github.rafostar.Clapper)$ # Clapper-Gtk
windowrule = opacity 0.80 0.80, match:class ^(com.github.tchx84.Flatseal)$ # Flatseal-Gtk
windowrule = opacity 0.80 0.80, match:class ^(hu.kramo.Cartridges)$ # Cartridges-Gtk
windowrule = opacity 0.80 0.80, match:class ^(com.obsproject.Studio)$ # Obs-Qt
windowrule = opacity 0.80 0.80, match:class ^(gnome-boxes)$ # Boxes-Gtk
windowrule = opacity 0.80 0.80, match:class ^(vesktop)$ # Vesktop
windowrule = opacity 0.80 0.80, match:class ^(discord)$ # Discord-Electron
windowrule = opacity 0.80 0.80, match:class ^(WebCord)$ # WebCord-Electron
windowrule = opacity 0.80 0.80, match:class ^(ArmCord)$ # ArmCord-Electron
windowrule = opacity 0.80 0.80, match:class ^(app.drey.Warp)$ # Warp-Gtk
windowrule = opacity 0.80 0.80, match:class ^(net.davidotek.pupgui2)$ # ProtonUp-Qt
windowrule = opacity 0.80 0.80, match:class ^(yad)$ # Protontricks-Gtk
windowrule = opacity 0.80 0.80, match:class ^(Signal)$ # Signal-Gtk
windowrule = opacity 0.80 0.80, match:class ^(io.github.alainm23.planify)$ # planify-Gtk
windowrule = opacity 0.80 0.80, match:class ^(io.gitlab.theevilskeleton.Upscaler)$ # Upscaler-Gtk
windowrule = opacity 0.80 0.80, match:class ^(com.github.unrud.VideoDownloader)$ # VideoDownloader-Gtk
windowrule = opacity 0.80 0.80, match:class ^(io.gitlab.adhami3310.Impression)$ # Impression-Gtk
windowrule = opacity 0.80 0.80, match:class ^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk
windowrule = opacity 0.80 0.80, match:class ^(io.github.flattool.Warehouse)$ # Warehouse-Gtk

# Float rules - Dolphin
windowrule[dolphin-progress] {
    name = dolphin-progress
    match:class = ^(org.kde.dolphin)$
    match:title = ^(Progress Dialog — Dolphin)$
    float = true
}
windowrule[dolphin-copying] {
    name = dolphin-copying
    match:class = ^(org.kde.dolphin)$
    match:title = ^(Copying — Dolphin)$
    float = true
}

# Float rules - Firefox
windowrule[firefox-about] {
    name = firefox-about
    match:title = ^(About Mozilla Firefox)$
    float = true
}
windowrule[firefox-pip] {
    name = firefox-pip
    match:class = ^(firefox)$
    match:title = ^(Picture-in-Picture)$
    float = true
}
windowrule[firefox-library] {
    name = firefox-library
    match:class = ^(firefox)$
    match:title = ^(Library)$
    float = true
}

# Float rules - Terminal
windowrule[kitty-top] {
    name = kitty-top
    match:class = ^(kitty)$
    match:title = ^(top)$
    float = true
}
windowrule[kitty-btop] {
    name = kitty-btop
    match:class = ^(kitty)$
    match:title = ^(btop)$
    float = true
}
windowrule[kitty-htop] {
    name = kitty-htop
    match:class = ^(kitty)$
    match:title = ^(htop)$
    float = true
}

# Float rules - Media and utilities
windowrule[vlc-float] {
    name = vlc-float
    match:class = ^(vlc)$
    float = true
}
windowrule[kvantum-float] {
    name = kvantum-float
    match:class = ^(kvantummanager)$
    float = true
}
windowrule[qt5ct-float] {
    name = qt5ct-float
    match:class = ^(qt5ct)$
    float = true
}
windowrule[qt6ct-float] {
    name = qt6ct-float
    match:class = ^(qt6ct)$
    float = true
}
windowrule[nwg-float] {
    name = nwg-float
    match:class = ^(nwg-look)$
    float = true
}
windowrule[ark-float] {
    name = ark-float
    match:class = ^(org.kde.ark)$
    float = true
}
windowrule[pavucontrol-float] {
    name = pavucontrol-float
    match:class = ^(org.pulseaudio.pavucontrol)$
    float = true
}
windowrule[blueman-float] {
    name = blueman-float
    match:class = ^(blueman-manager)$
    float = true
}
windowrule[nm-applet-float] {
    name = nm-applet-float
    match:class = ^(nm-applet)$
    float = true
}
windowrule[nm-editor-float] {
    name = nm-editor-float
    match:class = ^(nm-connection-editor)$
    float = true
}
windowrule[polkit-float] {
    name = polkit-float
    match:class = ^(org.kde.polkit-kde-authentication-agent-1)$
    float = true
}

# Float rules - Applications
windowrule[signal-float] {
    name = signal-float
    match:class = ^(Signal)$
    float = true
}
windowrule[clapper-float] {
    name = clapper-float
    match:class = ^(com.github.rafostar.Clapper)$
    float = true
}
windowrule[warp-float] {
    name = warp-float
    match:class = ^(app.drey.Warp)$
    float = true
}
windowrule[pupgui-float] {
    name = pupgui-float
    match:class = ^(net.davidotek.pupgui2)$
    float = true
}
windowrule[yad-float] {
    name = yad-float
    match:class = ^(yad)$
    float = true
}
windowrule[eog-float] {
    name = eog-float
    match:class = ^(eog)$
    float = true
}
windowrule[planify-float] {
    name = planify-float
    match:class = ^(io.github.alainm23.planify)$
    float = true
}
windowrule[upscaler-float] {
    name = upscaler-float
    match:class = ^(io.gitlab.theevilskeleton.Upscaler)$
    float = true
}
windowrule[videodownloader-float] {
    name = videodownloader-float
    match:class = ^(com.github.unrud.VideoDownloader)$
    float = true
}
windowrule[impression-float] {
    name = impression-float
    match:class = ^(io.gitlab.adhami3310.Impression)$
    float = true
}
windowrule[missioncenter-float] {
    name = missioncenter-float
    match:class = ^(io.missioncenter.MissionCenter)$
    float = true
}

# Common modal float rules
windowrule[modal-open] {
    name = modal-open
    match:title = ^(Open)$
    float = true
}
windowrule[modal-choose] {
    name = modal-choose
    match:title = ^(Choose Files)$
    float = true
}
windowrule[modal-save] {
    name = modal-save
    match:title = ^(Save As)$
    float = true
}
windowrule[modal-confirm] {
    name = modal-confirm
    match:title = ^(Confirm to replace files)$
    float = true
}
windowrule[modal-progress] {
    name = modal-progress
    match:title = ^(File Operation Progress)$
    float = true
}
windowrule[portal-float] {
    name = portal-float
    match:class = ^(xdg-desktop-portal-gtk)$
    float = true
}

# █░░ ▄▀█ █▄█ █▀▀ █▀█   █▀█ █░█ █░░ █▀▀ █▀
# █▄▄ █▀█ ░█░ ██▄ █▀▄   █▀▄ █▄█ █▄▄ ██▄ ▄█

layerrule[rofi-blur] {
    name = rofi-blur
    match:namespace = rofi
    blur = true
}
layerrule[rofi-ignorealpha] {
    name = rofi-ignorealpha
    match:namespace = rofi
    ignore_alpha = true
}
layerrule[notifications-blur] {
    name = notifications-blur
    match:namespace = notifications
    blur = true
}
layerrule[notifications-ignorealpha] {
    name = notifications-ignorealpha
    match:namespace = notifications
    ignore_alpha = true
}
layerrule[swaync-notif-blur] {
    name = swaync-notif-blur
    match:namespace = swaync-notification-window
    blur = true
}
layerrule[swaync-notif-ignorealpha] {
    name = swaync-notif-ignorealpha
    match:namespace = swaync-notification-window
    ignore_alpha = true
}
layerrule[swaync-center-blur] {
    name = swaync-center-blur
    match:namespace = swaync-control-center
    blur = true
}
layerrule[swaync-center-ignorealpha] {
    name = swaync-center-ignorealpha
    match:namespace = swaync-control-center
    ignore_alpha = true
}
layerrule[logout-blur] {
    name = logout-blur
    match:namespace = logout_dialog
    blur = true
}
